<!DOCTYPE html>
<html lang="en"><head>
<script src="presentation_files/libs/clipboard/clipboard.min.js"></script>
<script src="presentation_files/libs/quarto-html/tabby.min.js"></script>
<script src="presentation_files/libs/quarto-html/popper.min.js"></script>
<script src="presentation_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="presentation_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="presentation_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="presentation_files/libs/quarto-html/quarto-syntax-highlighting-dark-474c6d7e63be50eb6972897072b39b27.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.36">

  <meta name="author" content="Reed Benkendorf">
  <meta name="dcterms.date" content="2023-02-22">
  <title>Species Distribution Models (SDM’s)</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="presentation_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="presentation_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="presentation_files/libs/revealjs/dist/theme/quarto-3fca4e049658d62a9e64bd94f73e1709.css">
  <link rel="stylesheet" href="custom.css">
  <link href="presentation_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="presentation_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="presentation_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="presentation_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="presentation_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="presentation_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="presentation_files/libs/kePrint-0.0.1/kePrint.js"></script>
  <link href="presentation_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">
  <style>
  #title-slide .title {
    font-size: 1.5em;
  }
  </style>
</head>
<body class="quarto-dark">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Species Distribution Models (SDM’s)</h1>
  <p class="subtitle">Analytical Toolbox for Ecologists &amp; Evolutionary Biologists (PBC 470)</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Reed Benkendorf 
</div>
</div>
</div>

  <p class="date">February 22, 2023</p>
</section>
<section class="slide level2">

<aside class="notes">
<pre><code>Our general talk is going to follow this formula. We are basically just going to go over the really broad aspects of a model, so that if you are interested in generating one, you have something of road map for the process. </code></pre>
<p>Our talk is going to have mostly, theory, with an example species which pops up here and there throughout it; but you really can’t count on habitual examples here.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="talk-overview" class="slide level2 flexbox vcenter">
<h2>talk overview</h2>
<ul>
<li><p>applications</p></li>
<li><p>objectives</p></li>
<li><p>methods</p></li>
<li><p>interpretation</p></li>
</ul>
</section>
<section>
<section id="applications---conservation" class="title-slide slide level1 center">
<h1>applications - conservation</h1>
<ul>
<li><p>aid in discovery of new populations of imperiled plants</p></li>
<li><p>aid in creation of reserves under climate change models</p></li>
<li><p>aid in predicting joint species distributions, i.e.&nbsp;obligate mutualisms</p></li>
<li><p>aid in modelling spread of noxious species to novel ranges (but see <span class="citation" data-cites="liu2020species">Liu et al. (<a href="#/citations" role="doc-biblioref" onclick="">2020</a>)</span>)</p></li>
</ul>
<aside class="notes">
<p>Species Distribution Models, are most commonly used in the whole <em>Conservation</em> side of this whole <em>Plant Biology</em> thing - they are also popular for other kingdoms. Essentially, these models are hypotheses of where we expect to find a species across the landscape. They are largely developed for rare species, which by definition are hard to find, and help conservation biologists in directing resources towards having success in those regards. Historically they were quite simply, to find a single rare species, but now they are oftentimes used for considering reserve design under climate change, and with some obligate mutualists, for example if anyone is familiar with Dr.&nbsp;Fants work regarding <em>Brighamia insignis</em> and hawkmoths that would be a use case. They are also occasionally used in invasion biology, but many caveats with this exist.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="applications---academic" class="slide level2">
<h2>applications - academic</h2>
<ul>
<li>develop candidate species for metabarcoding</li>
<li>fine scale models to study co-existence</li>
<li>used in population biology (but see <span class="citation" data-cites="LeeYaw2022species">A. Lee-Yaw et al. (<a href="#/citations" role="doc-biblioref" onclick="">2022</a>)</span>)</li>
</ul>
<aside class="notes">
<p>These models have also gained some popularity in academic research as well, for applications aside from those we have already mentioned. For my research we utilized species distribution models to build custom sequence reference databases to identify pollen grains which were collected by bees and adhered to there bodies. They are now occasionally investigated by researchers interested in studying the co-existing of species in re-occurring assemblages. They are also used commonly in population biology, but many caveats exist with this.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="objectives" class="slide level2">
<h2>objectives</h2>
<div>
<p>using known occurrences of a species, identify areas which have similar habitat and the potential to support populations</p>
<p>but, what about dispersal?</p>
<p>competition?</p>
<p>mutualisms?</p>
</div>
<aside class="notes">
<p>To reiterate, the purpose of a species distribution model is to predict a hypothesis of areas where a species may occur, given known occurrences as response, and environmental variables as predictors variables.</p>
<p>These models speak little to limitation of colonization by dispersal.</p>
<p>They speak little to exclusion of a population due to competition</p>
<p>They are now able to accommodate some information on obligate mutualisms.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="an-example-species-to-accompany-our-study" class="slide level2">
<h2>an example species to accompany our study</h2>
<p><a href="http://floranorthamerica.org/Synthyris_alpina"><em>Besseya</em> (=<em>Synthris</em>) <em>alpina</em> (A. Gray) Rydberg.</a></p>
<div style="float: left; width: 50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./graphics/American_Basin.jpg" style="width:75.0%;height:75.0%"></p>
<figcaption>American Basin</figcaption>
</figure>
</div>
</div>
<div style="float: right; width: 50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./graphics/Besseya_alpina_sheet.jpg" style="width:75.0%;height:75.0%"></p>
<figcaption><em>B. alpina</em>, Franklin #3948</figcaption>
</figure>
</div>
</div>
<aside class="notes">
<p>As an example species, we are going to use one that i modelled as a portion of masters work. <em>Besseya alpina</em>, alpine kittentails, is a part of the Plantaginaceae and closely aligned with <em>Veronica</em>. This species is endemic to Western North America, and it is confined entirely to rocky fields or stony fellfields in the alpine. as would be seen in the background of this image along the ridges.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="methods---overview" class="slide level2 flexbox vcenter">
<h2>methods - overview</h2>
<div>
<p>define spatial domain and grain</p>
<p>software environments</p>
<p>dependent variables</p>
<p>independent variables</p>
<p>modelling approaches</p>
<p>model evaluation</p>
<p>predicting a model into space</p>
</div>
<aside class="notes">
<p>the general steps for creating species distribution models are generally pretty similar as for most other projects. One of the real first pieces of information to work towards figuring out is how much computer power you have, and that will inform the domain and grains. Generally who you are working with, or what experience with software you have wil determine the environments you are using. Acquiring species records, and the independent variables can take some review time, but both are now largely available at specialized databasea for them. The choices of modelling approaches to attempt again come largely down to personal experience and familiarity with a type of model or algorithms. Evaluation kind of comes down to where you would feel the least bad about being wrong; do you want to over or under predict? What are the consequences of preding a false presence?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="domain-and-grain" class="slide level2 flexbox vcenter">
<h2>domain and grain</h2>
<p><br></p>
<div class="fragment">
<p><strong>domain</strong>; spatial extent of study<br>
- administrative boundary<br>
- ecological model</p>
</div>
<p><br></p>
<div class="fragment">
<center>
<strong>grain</strong>; scales in space and time<br>
- resolution at which process occurs (space)<br>
- current and past climate (time)<br>
- projected climates<br>
- (animals) seasonal patterns?
</center>
</div>
<p><br></p>
<div class="fragment">
<section style="text-align: right;">
limitation: compute power , variable resolution
</section>
</div>
<aside class="notes">
<p>The first few steps in your analysis is to reasonably define a few parameters. It is easy to get carried away when you do not have to collect field data yourself, and try to perform analyses at enormous spatial scales, or at very very fine details.</p>
<p>Remember the ‘domain’ is the spatial extent over which we are interested in studying a process. Generally, these are defined by funding agencies, e.g.&nbsp;for all of my normal office work, I use extents of land ownership; a form of administrative boundary. For academic work, depending on how the funding comes through, we may be much more likely to use domains informed by ecological processes. Examples would be a floristic province, or an ecoregion concept.</p>
<p>Grain is the resolution of an event in both time and space. For a spatial grain, you want to gather predictor variables which are able to correlate well with your species. For example day length in spring for plants, will only vary substantially over quite large scales. Elevation at a scale of 1 meter, rather than a more coarse surface would contain much meaningless variation. So we must balance these; however, most publicly available spatial data come only at a few resolutions (800m<sup>2</sup>, 1000m<sup>2</sup>, or 4000m<sup>2</sup>).</p>
<p>Temporal grain is very important for migratory animals, it is also very important if you want to see a species distribution before climate change effects, and after, and if you want to project your results into the future under climate change projections.</p>
<p>It sounds like you will have many options to sort through here, but no! You are informed by computer power, you do what you can, just like with fieldwork.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="domain-and-grain-1" class="slide level2 flexbox vcenter">
<h2>domain and grain</h2>
<center>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./graphics/domain.resized.png" style="height:100.0%"></p>
<figcaption>Domain</figcaption>
</figure>
</div>
</center>
<aside class="notes">
<p>Our species Besseya alpina is endemic to the Southern Rocky Mountains. During this modelling endeavor we will do what most Species distribution modellers do and model the whole range. As we see here, we have a focal area, in greenish blue, which constitutes an Ecological Region, an area with a clustered set or properties. We then buffer this area by a moderate amount, around 100 kilometers, and we have established a domain.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="software-environments" class="slide level2">
<h2>software environments</h2>
<div style="float: left; width: 50%;">
<ul>
<li><strong>R</strong>
<ul>
<li><strong>sf</strong> <em>vector data ala tidyverse</em> <span class="citation" data-cites="pebesma2018sf">Pebesma (<a href="#/citations" role="doc-biblioref" onclick="">2018</a>)</span></li>
<li><strong>terra</strong> <em>raster data without headaches</em> <span class="citation" data-cites="hijman2022terra">Hijmans (<a href="#/citations" role="doc-biblioref" onclick="">2022</a>)</span></li>
<li><strong>sdm</strong> <em>modelling operations</em> <span class="citation" data-cites="naimi2016sdm">Naimi and Araujo (<a href="#/citations" role="doc-biblioref" onclick="">2016</a>)</span></li>
<li><strong>caret</strong> <em>ML / data partitioning</em> <span class="citation" data-cites="kuhn2022caret">Kuhn (<a href="#/citations" role="doc-biblioref" onclick="">2022</a>)</span></li>
</ul></li>
<li><strong>grass gis</strong> <em>many modules for creating predictors</em></li>
<li><strong>qgis</strong> <em>graphical user interface for mouse guided visualization</em></li>
</ul>
</div>
<div style="float: right; width: 50%;">
<p><img data-src="./graphics/terra.resized.png"> <img data-src="./graphics/sf.resized.png"> <img data-src="./graphics/caret.resized.png"> <img data-src="./graphics/grass.resized.png"> <img data-src="./graphics/qgis.resized.png" style="width:50.0%"></p>
</div>
<aside class="notes">
<p>There are a handful of options which exist for generating species distribution models and processing geographic information systems data. I can only advocate the use of open source software, as this allows others to benefit and reproduce our research without considerable fiscals resources. Furthermore, open source alternatives are generally much better than paid software. As species distribution models are really all about the statistics, R, is an un- paralled software to generate SDM’s in, and will keep your notes for you! However, grass gis offers several modules, all of which are accessible from the command line, which create useful spatial data products. Likewise QGIS is a really great lightweight GIS with a super friendly graphical user interface which you can use to visualize your predictor variables more dynamically than the experience offered by R and Rstudio.</p>
<p>We rely heavily on the sdm package, which is one of the best examples of <em>object orientated programming</em> which I have seen in R, and is capable of loading in statistical methods from nearly any R package you want! For example if you want any flavor of linear models you can import new methods from any Ben Bolker package you want!</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="dependent-variables---presences" class="slide level2">
<h2>dependent variables - presences</h2>
<div style="float: left; width: 50%;">
<ul>
<li>occurrences of a species in space <em>(and time)</em></li>
<li>geographic accuracy / spatial grain</li>
<li>Linear models:
<ul>
<li>check for spatial autocorrelation using Morans I</li>
<li>sampling artifact? remove samples</li>
<li>thin points stepwise by most ‘offending’ record</li>
</ul></li>
</ul>
<center>
<img data-src="./graphics/BIEN.resized.png"> <img data-src="./graphics/GBIF.resized.png">
</center>
</div>
<div style="float: right; width: 40%;">
<p><img data-src="./graphics/superbloom_17.resized.jpg" style="height:50.0%"></p>
</div>
<aside class="notes">
<p>SO you need records of plant occurrences. The unequivocally most useful, and unlikely to ever be approached, source for these are herbaria. These things are huge people, the Field Museum Herbarium alone has 2.7 million records; these are enormous datasets we have at our disposal. Fortunately, what started to be developed when I came on the scene are what we call digital herbaria consortia, which collect records from all herbaria in a region in one place. What started to exist when you all came around were the ‘aggregators’ which aggregated the records from the consortia, and now citizen science records! These make getting records absurdly easy, and I kid you not, I hear tales of the invention of a ‘conglomerator’ for the aggregators on the breezes that blow from the east.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="dependent-variables---presences-example" class="slide level2 flexbox vcenter">
<h2>dependent variables - presences example</h2>
<center>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./graphics/besseya_occ.resized.png" style="height:100.0%"></p>
<figcaption>Occurence Records</figcaption>
</figure>
</div>
</center>
<aside class="notes">
<p>In general, when it comes to rare species your only sources of occurrence records are going to be from herbaria, and subsequent targeted sampling for that species, or surveying for an entirely rare habitat type which this and other species occur in. Usually, for these records you want to work with a Natural Heritage Program, or Natural History Survey; they tend to specialize in these surveys and maintenance of these records. One problem with old records, which is somewhat ameliorated for rare species, is the accuracy of the records geolocation. Old maps were not exceptional, and most botanists don’t press or note exactly where a specimen came from in the old days.</p>
<p>For more common species, you are able to now glean considerable amounts of information from citizen science resources; although these tend to be phenotypically biased towards pretty flowers, at the expense of truly gorgeous flowers such as those in groups like the Sedges.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="dependent-variables---absences" class="slide level2">
<h2>dependent variables - absences</h2>
<ul>
<li>optional: pseudoabsences space <em>(and time)</em></li>
<li>more optional: absences space <em>(and time)</em></li>
</ul>
<div style="float: left; width: 70%;">
<ul>
<li>presence:absence records
<ul>
<li>linear models - 1:<em>many</em><br>
</li>
<li>machine learning - 1:1<br>
</li>
</ul></li>
<li>distance between presences
<ul>
<li>geographic</li>
<li>environmental</li>
</ul></li>
</ul>
</div>
<div style="float: right; width: 30%;">
<p><img data-src="./graphics/AIM.resized.png"> <img data-src="./graphics/FIA.resized.png"></p>
</div>
<aside class="notes">
<p>OK so pseudo-absences, and especially pseudo-absences, are not required for creating species distribution models. In my experience I feel like 2/3 of people do not use them, and a 1/3 do. Basically, these will go into the model building processing as areas of habitat which are known to be unsuitable to the focal species; for whatever reason.</p>
<p>If you want to use these, you are able to get a large number of them from standardized vegetation protocols which contain species richness meaders across a specific area. As you are likely to try and acquire these data, as they are more regularly occurring, and capture enormous geographic and environmental diversity, you can throw them in and see what happens. Some rules of thumb exist for using them, but they don’t seem that wonderful. We cite a paper here which calls for 10k absence records, but this seems to swamp the link functions in most models (I. Breckheimer).</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="dependent-variables---absences-example" class="slide level2 flexbox vcenter">
<h2>dependent variables - absences example</h2>
<center>
<p><img data-src="./graphics/pseudo_abs.resized.png"></p>
</center>
<aside class="notes">
<p>Here we have generated an equal number of pseudo-absences, as there are occurrence records. As you can see many of the records are in places well outside the range of the species. But what we also see are a number of records which are in places where I would wager the species is, if we look just to the LEFT of the ‘Grand Junction’ label we see we have some points in the and Elk Mountains, which are almost certainly suitable habitat, Likewise we have some scatted points around the UPPER LEFT corner for Durango in the San Juan Mountains which are probably also suitable habitat.</p>
<p>SO that is one potential issue with pseudo points!</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="independent-variables" class="slide level2">
<h2>independent variables</h2>
<ul>
<li>variables relating to <em>patterns</em> in biotic distribution
<ul>
<li>relevant to <em>your</em> domain and grains</li>
<li>require <em>variation</em></li>
<li>no focus on factors governing biological <em>processes</em>, rather features which <em>correlate</em> with the known species distribution</li>
</ul></li>
<li>limitation: compute power</li>
</ul>
<aside class="notes">
<p>OK, so here is an essential component of SDM’s, they are NOT causative! They rely entirely on CORRELATION, even if you are using variables which you know have causal relationships with plant distributions the models that we are creating will not really reflect causal processes. What we want to gather together, are variables which we think co-occur with the species! Generally these pretty much end of being causal variables, but we do not sell them as such.</p>
<p>These variables need to reflect processes which vary in both your domain, and within your grains.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="independent-variables---examples" class="slide level2">
<h2>independent variables - examples</h2>
<p>domain: <strong>continental</strong> (e.g.&nbsp;North America)<br>
<font size="5"> - maximum and minimum daily temperatures [monthly, 1km]<br>
- precipitation [monthly, 1km]<br>
- hydrologic drainage [millennial, 1km]<br>
</font></p>
<p>domain: <strong>regional</strong> (e.g.&nbsp;Southern Rockies)<br>
<font size="5"> - elevation [millennial, 250m]<br>
- soil classes [millennial, 250m]<br>
- precipitation form [monthly, 250m]<br>
</font></p>
<p>domain: <strong>fine</strong> (e.g.&nbsp;McDonald Woods)<br>
<font size="5"> - micro topography [decade, 1m]<br>
- shade [weekly, 1m]<br>
- soils [decade, 1m]<br>
</font></p>
<aside class="notes">
<p>So as an example of how domain may affect our selection of independent variables, we can image we are interested in modelling species at three different levels. The first is across North America, we will probably have very good results using rather simple variables, at relatively coarse grains. For example, the maximum temperature - e.g.&nbsp;heat stress, and minimum temperatures are linked to the movement of moisture in plants and have enormous effects on distributions. Even the two sides of the Mississippi River Drainage basin, largely this an area so flat for nearly a thousand miles you cannot even detect changes in elevation or slope; might have the single largest effect on the flora of north america!</p>
<p>When we move to less extensive domains our predictors will change. We may start to gather very good information from toporgraphic relief, especially in the west; soil now be at a scale where it correlates with distributions at the class level, and solar radiation may start to tease out mesic north facing forested areas.</p>
<p>As we move to fine domains, and these really are the frontier for these models, especially in academic settings, we are really starting to get to very directly related features. Here we can really start to integrate field experiments, and nitty gritty natural history observations with species distribution models. Assuming you can find the spatial data to do so!</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="independent-variables---specific-examples" class="slide level2">
<h2>independent variables - specific examples</h2>
<div style="float: right; width: 50%;">
<ul>
<li>Percent bedrock <em>(rocky, young soils)</em></li>
<li>Elevation <em>(alpine habitat)</em></li>
<li>Bare ground <em>(few others plants?)</em></li>
<li>X-Y coords <em>(alpine zone decreases with latitude)</em></li>
<li>Soil surface pH <em>(calcareous bedrock?)</em></li>
<li>Precipitation as snow <em>(monsoonal influence?)</em></li>
</ul>
</div>
<div style="float: right; width: 50%;">
<p><img data-src="./graphics/alpine_plant_life.resized.jpg"></p>
</div>
</section>
<section id="variance-in-independent-variables" class="slide level2">
<h2>variance in independent variables</h2>
<div style="float: left; width: 60%;">
<ul>
<li><p>explicitly check for variation</p></li>
<li><p>carefully encode categorical data</p></li>
<li><p>too much, may not be useful</p></li>
<li><p>too little, may not be useful</p></li>
<li><p>pilot knock out studies; use one variable leaving the others out</p></li>
<li><p>warrants simplifying a variable?</p></li>
<li><p>t.test the difference in values between presence and absence points</p></li>
</ul>
</div>
<div style="float: right; width: 40%;">
<p><img data-src="./graphics/variation.resized.png"></p>
</div>
<aside class="notes">
<p>OK so more of what we have discussed already. You are compute limited, If you are including a variable, be sure that it is going to contribute something within the domain and at the scales which you are working with.</p>
<p>People get pretty into this, especially with all types of machine learning - which we’ll discuss later, but basically try and reduce your predictors down to those which offer something. The simplest approach is just viewing the variance and seeing if you have anything low, for example that top-most bar. The next level is comparing the values which are obtained from your presence and absence points with a t.test, no difference? why keep it. A more laborious, but more useful approach, involve creating simple models, and seeing which variables are meaningful predictors of the response using selection procedures.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="modelling-approaches---overview" class="title-slide slide level1 center">
<h1>modelling approaches - overview</h1>
<div style="float: left; width: 50%;">
<ul>
<li>ensembles pt.&nbsp;I &amp; II</li>
<li>generalized linear models
<ul>
<li>assumptions - dependent variables (IV)</li>
<li>assumptions - independent variables (DV)</li>
<li>modelling
<ul>
<li>model evaluation</li>
</ul></li>
</ul></li>
</ul>
</div>
<div style="float: right; width: 50%;">
<ul>
<li>machine learning
<ul>
<li>assumptions ?</li>
<li>modelling
<ul>
<li>model evaluation</li>
</ul></li>
</ul></li>
<li>ensembles pt.&nbsp;III</li>
</ul>
</div>
</section>
<section id="ensembles-pt-i" class="slide level2">
<h2>ensembles pt I</h2>
<div class="fragment">
<p>problems with all models<br>
- garbage.(in) -&gt; garbage.(out)<br>
- influential outliers</p>
</div>
<div class="fragment">
<p>with machine learning;<br>
- models can fixate on these observations</p>
</div>
<div class="fragment">
<p>solution:<br>
- run many models, synthesize the results</p>
</div>
<p><br></p>
<div class="fragment">
<div class="centered">
<blockquote>
<p><em>“we are stronger together than we are alone”</em> - Walter Payton</p>
</blockquote>
</div>
</div>
<aside class="notes">
<p>There is a set of statistical procedures for combining, the predictions from models, based on how accurate each one is. whereby the weaknesses of the models are ameliorated, and their strengths strengthened. We call this ensembling, and it is very important in machine learning. ML, is not a human brain and they can become fixated on data which we would all recognize as bogus. S</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="ensembles-pt-ii" class="slide level2">
<h2>ensembles pt II</h2>
<div class="fragment">
<p>weak learners; many simple decision tree models are combined to a single output</p>
</div>
<p><br></p>
<div class="fragment">
<p><strong>bagging</strong> (bootstrap aggregation) e.g.&nbsp;<em>random forests</em><br>
- many models run independent of each</p>
</div>
<p><br></p>
<div class="fragment">
<p><strong>boosting</strong> e.g.&nbsp;<em>boosted regression trees</em><br>
- many models run sequentially, focusing on correcting errors in the last iteration</p>
</div>
<p><br></p>
<div class="fragment">
<p><strong>stacking</strong> - can accommodate the consensus output from bagged, boosted, or traditional linear models</p>
</div>
<aside class="notes">
<p>Most forms of machine learning, utilize many ‘weak learners’, i.e.&nbsp;simple correlations, which when bound together offer great insight.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="generalized-linear-models" class="slide level2">
<h2>~ generalized linear models</h2>
<ul>
<li>commonly implemented:
<ul>
<li><em>generalized linear models</em> (glms)</li>
</ul></li>
<li>popular flavours:
<ul>
<li><em>lasso regressions</em></li>
<li><em>ridge regression</em></li>
<li><em>elastic net regresssion</em></li>
</ul></li>
</ul>
</section>
<section id="linear-models---assumptions-dv" class="slide level2">
<h2>linear models - assumptions DV</h2>
<ul>
<li>distinct records, e.g.&nbsp;no duplicates of herbaria specimens<br>
</li>
<li>one record per cell of grain surface</li>
</ul>
</section>
<section id="linear-models---assumptions-iv" class="slide level2">
<h2>linear models - assumptions IV</h2>
<div style="float: left; width: 50%;">
<ul>
<li>Variance inflation (vifstep or vifcor)</li>
<li>identify correlated variables</li>
<li>pilot knock out studies; use one variable of the set as a predictor leaving the others out</li>
</ul>
</div>
<div style="float: left; width: 50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./graphics/vifstep.resized.png"></p>
<figcaption>correlated!</figcaption>
</figure>
</div>
</div>
<aside class="notes">
<p>So, I’m sure as you all have seen environmental predictors are generally highly correlated. If you are going to be using them for species distribution models which you will be, check them. There are not special considerations for spatial contexts worth worrying about.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="modelling-process" class="slide level2 flexbox vcenter">
<h2>modelling process</h2>
<p>all evaluation performed by computer – too much information</p>
<aside class="notes">
<p>You can specify which criteria, and how to weigh them, and the algorithms will work within these confines, but their are too many decisions for a human to keep up with.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="machine-learning" class="slide level2">
<h2>machine learning</h2>
<p>much more common approach than individual GLMs</p>
<p>many ‘weak learners’</p>
<p>species distributions are generally too complex for individual predictors, and building fully interactive terms would take a long time.</p>
<p>the typical approach since the late 90’s</p>
<p>do the work for you</p>
</section>
<section id="machine-learning---assumptions" class="slide level2 flexbox vcenter">
<h2>machine learning - assumptions</h2>
<p>none, get a few observations, the more the merrier.</p>
</section>
<section id="modelling" class="slide level2">
<h2>modelling</h2>
<p>train/test split (partition data)</p>
<ul>
<li><p>no free lunch</p>
<ul>
<li>no silver bullet machine learning algorithm<br>
</li>
<li>each is able to work better than others under diverse circumstances<br>
</li>
</ul></li>
<li><p>try many types of models, select some that work for <em>your</em> application</p></li>
<li><p>common algorithms:</p>
<ul>
<li>maximum entropy (maxent)</li>
<li>random forest (rf)</li>
<li>boosting (brt)</li>
<li>support vector model (svm)</li>
</ul></li>
</ul>
</section></section>
<section>
<section id="evaluation-i" class="title-slide slide level1 center">
<h1>evaluation I</h1>
<div class="fragment">
<p>Practitioners are <em>always</em> wrong.</p>
</div>
<p><br></p>
<div class="fragment">
<center>
How do you <em>want</em> to be wrong?
</center>
</div>
<p><br></p>
<div class="fragment">
<p>the downsides of predicting suitable habitat where it isn’t?</p>
</div>
<p><br></p>
<div class="fragment">
<center>
the downsides of predicting non-suitable habitat where it really is?
</center>
</div>
<p><br></p>
<div class="fragment">
<p>What is the cost of <em>‘better’</em> predictions?</p>
</div>
<p><br></p>
<div class="fragment">
<center>
other projects? priorities? deadlines?
</center>
</div>
<aside class="notes">
<p>If you are in this room right now, it is because you are more familiar with being right than being wrong. Which is excellent in most ways, except it has probably created an aversion to being wrong for you, which can lead to an aversion to taking risks; but we’ll side line that.</p>
<p><em>Practitioners are always wrong. </em> But folks, life is not a written test. It has problems you, or really rather your teachers, will not let you ignore. and I gurantee you every day a botanists has to make more than a few decisions one will be wrong; and somehow alot of these will end up right in the end too by some bizarre miracle. Enough sentiment!</p>
<p><em>how do you want to be wrong</em> Just like a controlled fall, when we start making models, if we hope to apply them, we want to understand how to fall with the least harm. So which parts of your models and predictions are you willing to sacrifice to being less correct than the others?</p>
<p><em>the downsides of predicting suitable habitat where it isn’t?</em> If you are working on restoration projects and you are working to decide what to plant, you may seek advice from a climate change projection seeding map. If this map is wrong, you are likely to be out hundreds of thousands of dollars in error, at the expense of purchasing other seeds with this money.</p>
<p><em>the downsides of predicting non-suitable habitat where it really is?</em> If you are trying to create a very large reserve, by looking at a variety of overlapping species distributions, and you have agreeable partners, than the consequences are very minimal.</p>
<p><em>What is the cost of better predictions?</em> You may find like you have no time to do the tihngs you want to do being in Winter quarter and all, but things will slow down some time soon. Things will slow down, but you never have the time to do what you wan tto do, and you are going to need to prioritize! What are the consequences of hyper tuning and parameratizing you model?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="evaluation-ii" class="slide level2 build">
<h2>evaluation II</h2>
<p><span class="math display">\[ Accuracy = \frac{\text{correct classifications}}{\text{all classifications }} \]</span></p>
<p><span class="math display">\[ Sensitivity = \frac{\text{true positives}}{\text{true positives + false negatives }} \]</span> probability of the method giving a positive result when the test subject is positive.</p>
<p><span class="math display">\[ Specificity = \frac{\text{true negatives}}{\text{true negatives + false positives }} \]</span> probability of the method giving a negative result when the test subject is negative</p>
<aside class="notes">
<p>There are many forms of evaluation for species distribution models. We will only discuss three simple evaluation criteria. First off bear in mind, all we can evaluate of a model, is how well it performs on the splits in our data, these models are unable to be held to the same standard in the field that they perform at on a computer. SO</p>
<p><strong>Accuracy</strong>, is essentially very simple, how often are you correct? If we were to have 200 data points, and use 100 for training and 100 for testing, how often would our model be able to predict the presences of the withheld points? How accurate do we want to be? Better than 50%, right? That’s chance. Generally models with over 70% accuracy are considered useful. There are two major subsets of Accuracy, which oftentimes go by different names, but we will only refer to them as Sensitivity and Specificity here.</p>
<p><strong>Sensitivity</strong> is how often we are able to identify a presence, if we had a model which identified every single presence in the test data it would have a sensitivity of 100%.</p>
<p><strong>Specificity</strong> is how often we are able to identify an absence, if we had a model which identified every single absence in the test data it would have a specifity of 100%.</p>
<p>SO… it is not hard to imagine, that a model may cheat, and become very well at finding presences; maybe by just classifying every cell as a presence!! So that is why it is good to consider both sensitivity and specificity together under the umbrella of accuracy.</p>
<p>Can you think of any scenarios where we could want a model that is able to predict only suitable habitat really well? i.e.&nbsp;where we lean into <em>sensitivity</em> ?</p>
<p>Can you think of any scenarios where we could want a model that is able to predict unsuitable habitat really well? I.e. where we lean into <em>Specificity</em>?</p>
<p>Say we need to make a road or a trail through a natural area, we would want to be sure the species CANNOT be there, rather than know everywhere it is</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="evaluation-iii" class="slide level2">
<h2>evaluation III</h2>
<ul>
<li>Area Under the ROC Curve (AUC)<br>
</li>
<li>True Skill Statistic (TSS)
<ul>
<li>unequal sample sizes, i.e.&nbsp;evaluate many models at once<br>
</li>
</ul></li>
<li>Cohen’s kappa</li>
</ul>
<aside class="notes">
<p>These are some more forms of model evaluation you can look into on your own time if this topic interests you. They all run from 0-100, wherein 50 is over chance, and generally 70% constitutes a good model.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="evaluation-iv---example" class="slide level2 flexbox vcenter">
<h2>evaluation IV - example</h2>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped caption-top" data-quarto-postprocess="true" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">AUC</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">TSS</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Kappa</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right; width: 5em;">0.997</td>
<td style="text-align: right; width: 5em;">0.969</td>
<td style="text-align: right; width: 5em;">0.945</td>
</tr>
<tr class="even">
<td style="text-align: right; width: 5em;">0.994</td>
<td style="text-align: right; width: 5em;">0.969</td>
<td style="text-align: right; width: 5em;">0.945</td>
</tr>
<tr class="odd">
<td style="text-align: right; width: 5em;">0.995</td>
<td style="text-align: right; width: 5em;">0.945</td>
<td style="text-align: right; width: 5em;">0.910</td>
</tr>
</tbody>
</table>


</div>
</div>
<aside class="notes">
<p>Okay, so here are the real evaluation data for our Besseya model, we fit three different GLM’s. Did we do OKAY?</p>
<p>Yes we did, in fact too well… what are we going to do now…</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="ensembles-pt-ii-1" class="slide level2">
<h2>ensembles pt II</h2>
<ul>
<li>several r packages offer <em>stacking</em> of many (strong) models, based on your selection of evaluation criteria to weigh them</li>
<li>the ‘test’ partition of your data are used to evaluate this final model</li>
</ul>
<aside class="notes">
<p>We can actually combine models, I am not sure of the details but more or less we create a super model, from our choice models. This is a form of stacking, remember this type of ensemble is stacking because we now have strong models.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="predicting-a-model-into-space" class="slide level2">
<h2>predicting a model into space</h2>
<ul>
<li>any model, based on values present in gridded (raster) data can be predicted onto a new raster surface</li>
<li>each covariate in the model, is generally a single raster layer</li>
<li>r packages, such as <em>terra</em>, do all the work for you</li>
<li>accordingly, species distribution models create a map as a product</li>
</ul>
<aside class="notes">
<p>OK, so the cool thing about SDM’s, and pretty much all spatial work, is that we predict them back into space! Because we have gridded surfaces composed of our covariates, we are able to predict the likelihood of suitable habitat onto a single raster, which we can visualize as a map.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="interpretation" class="title-slide slide level1 center">
<h1>interpretation</h1>
<ul>
<li>percent suitability of habitat</li>
<li>of each cell - not proportion of cell</li>
<li>based on your data</li>
<li>based on your model</li>
</ul>
<aside class="notes">
<p>What does a Species Distribution Model tell us? NOT where a species is located, this is governed by a combination of factors; mostly relating to dispersal, competition, and population biology. An SDM tells us where, based on the predictor variables, in combination with the data we used, is the percent probability of suitable habitat for each individual cell.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="interpretation---example" class="slide level2 flexbox vcenter">
<h2>interpretation - example</h2>
<center>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./graphics/besseya_predicted.resized.png" style="height:95.0%"></p>
<figcaption>suitability</figcaption>
</figure>
</div>
</center>
</section></section>
<section id="computer-limitations" class="title-slide slide level1 center">
<h1>computer limitations</h1>
<center>
<img data-src="./graphics/time_spent.resized.png">
</center>
<aside class="notes">
<p>OK so on a closing note, and to reiterate compute power is a major limitation here, depending on the type of work which you are doing you may spend equal amounts of time computing as developing the models. As grad students you have access to Quest accounts at Northwestern which may readily deal with a task like this. The statistical portion is not really what takes up the processing time, rather it is predicting a fit model, i.e.&nbsp;the stacked models onto a gridded surface for mapping.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="tips-and-tricks" class="title-slide slide level1 center">
<h1>tips and tricks</h1>
<div>
<ul>
<li class="fragment"><p>keep a lab notebook; this is bench science</p></li>
<li class="fragment"><p>always start models small (avoid computer crashes)</p></li>
<li class="fragment"><p>use strong and discrete directory organization</p></li>
<li class="fragment"><p>scratch paper, whiteboards, flowcharts</p></li>
<li class="fragment"><p>dynamic programming; import/export data</p></li>
<li class="fragment"><p>track code on github<br>
</p></li>
</ul>
</div>
<aside class="notes">
<p>It is easy to get swept away with how enormously fun model building is in R, so you gotta keep your eyes on the prize, or YOU could be the next 4th year masters student guest lecturing about machine learning.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section>
<section id="objectives---recapped" class="title-slide slide level1 center">
<h1>objectives - recapped</h1>
<div class="fragment">
<p>using known occurrences of a species, identify areas which have similar habitat and the potential to support populations</p>
</div>
<p><br></p>
<div class="fragment">
mutualisms?<br>

<center>
<em>modelling two species together, joint-SDMs</em>
</center>
</div>
<p><br></p>
<div class="fragment">
competition?<br>

<center>
<em>using suitability surfaces to plant assemblages of species in field experiments’</em>
</center>
</div>
<p><br></p>
<div class="fragment">
dispersal?<br>

<center>
<em>using gridded surfaces to model the probability of dispersal from known to suitable habitat</em>
</center>
</div>
</section>
<section id="conclusion" class="slide level2">
<h2>conclusion</h2>
<ul>
<li>species distribution models are very simple!</li>
<li>fun introduction to simple machine learning</li>
<li>represent a hypothesis of the probability of suitable habitat</li>
<li>new avenues (J-SDM’s) can include mutualisms</li>
<li>stacked species (S-SDM’s) distributions for predicting ecological assemblies</li>
</ul>
</section>
<section id="contact-info" class="slide level2 flexbox vcenter" data-background="../graphics/collecting.jpg" size="cover,">
<h2>contact info</h2>
<div class="black" ;="" font-size:="" 3.0em;="" font-weight:="" 900;="">
- github/sagesteppe
</div>
</section>
<section id="some-extra-info" class="slide level2">
<h2>some extra info</h2>
</section>
<section id="modelling-resources" class="slide level2">
<h2>modelling resources</h2>
<p>two hour discussion of the <a href="https://www.youtube.com/watch?v=83dMS3bcjJM">‘sdm’</a> package by an author</p>
<p>large <a href="https://github.com/sagesteppe/SDMS_RMBL">repository</a> for high throughput modelling</p>
<p>large <a href="https://github.com/sagesteppe/Spatial_Data_Science_R">repository</a> about spatial data in R</p>
<p>short <a href="https://github.com/sagesteppe/Spatial_Data_Science_R/blob/main/SDS_Laboratory.R">activity</a> using a sdm like process to teach spatial data</p>
</section>
<section id="modelling-ensemble-learning" class="slide level2 flexbox vcenter">
<h2>modelling ensemble learning</h2>
<blockquote>
<p><strong>Ensemble learning</strong> utilizes many sets of trees, each tree being composed of many binary decisions, to create a single model. Each independent variable ( - or <em>feature</em>) may become a node on the tree - i.e.&nbsp;a location on the tree where a binary decision will move towards a predicted outcome. Each of the decision tree models which ensemble learning utilizes is a weak model, each of which may suffer due to high variance or bias, but which produce better outcomes than would be expected via chance. When ensembled these models generate a strong model, a model which should have more appropriately balanced variance and bias and predicts outcomes which are more strongly correlated with the expected values than the individual weak models.</p>
</blockquote>
</section>
<section id="modelling-random-forest" class="slide level2 flexbox vcenter">
<h2>modelling random forest</h2>
<blockquote>
<p><em><strong>Random Forest (RF)</strong></em> the training data are continually bootstrap re-sampled, in combination with random subsets of features, to create nodes which attempt to optimally predict a known outcome. A large number of trees are then aggregated, via the most common predictions, to generate a final classification prediction tree. Each individual prediction tree is generated independently of the others.</p>
</blockquote>
</section>
<section id="modelling-boosted-regression-trees" class="slide level2 flexbox vcenter">
<h2>modelling boosted regression trees</h2>
<blockquote>
<p><em><strong>Boosted Regression Tree (BRT)</strong></em> (or Gradient Boosted tree) An initial tree is grown, and all other trees are derived sequentially from it, as each new tree is grown the errors in responses from the last tree are weighed more heavily so that the model focuses on selecting dependent variables which refine predictions. All response data and predictor variables are kept available to all trees.</p>
</blockquote>
</section>
<section id="citations" class="slide level2 smaller scrollable">
<h2>citations</h2>

<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-LeeYaw2022species" class="csl-entry" role="listitem">
A. Lee-Yaw, Julie, Jenny L. McCune, Samuel Pironon, and Seema N. Sheth. 2022. <span>“Species Distribution Models Rarely Predict the Biology of Real Populations.”</span> <em>Ecography</em> 2022 (6): e05877.
</div>
<div id="ref-hijman2022terra" class="csl-entry" role="listitem">
Hijmans, Robert J. 2022. <em>Terra: Spatial Data Analysis</em>. <a href="https://CRAN.R-project.org/package=terra">https://CRAN.R-project.org/package=terra</a>.
</div>
<div id="ref-kuhn2022caret" class="csl-entry" role="listitem">
Kuhn, Max. 2022. <em>Caret: Classification and Regression Training</em>. <a href="https://CRAN.R-project.org/package=caret">https://CRAN.R-project.org/package=caret</a>.
</div>
<div id="ref-liu2020species" class="csl-entry" role="listitem">
Liu, Chunlong, Christian Wolter, Weiwei Xian, and Jonathan M Jeschke. 2020. <span>“Species Distribution Models Have Limited Spatial Transferability for Invasive Species.”</span> <em>Ecology Letters</em> 23 (11): 1682–92.
</div>
<div id="ref-naimi2016sdm" class="csl-entry" role="listitem">
Naimi, Babak, and Miguel B. Araujo. 2016. <span>“Sdm: A Reproducible and Extensible r Platform for Species Distribution Modelling.”</span> <em>Ecography</em> 39: 368–75. <a href="https://doi.org/10.1111/ecog.01881">https://doi.org/10.1111/ecog.01881</a>.
</div>
<div id="ref-pebesma2018sf" class="csl-entry" role="listitem">
Pebesma, Edzer. 2018. <span>“<span class="nocase">Simple Features for R: Standardized Support for Spatial Vector Data</span>.”</span> <em><span>The R Journal</span></em> 10 (1): 439–46. <a href="https://doi.org/10.32614/RJ-2018-009">https://doi.org/10.32614/RJ-2018-009</a>.
</div>
</div>
</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="presentation_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="presentation_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="presentation_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="presentation_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="presentation_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="presentation_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="presentation_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="presentation_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="presentation_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="presentation_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="presentation_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true,"boardmarkerWidth":5},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>